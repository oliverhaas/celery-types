from collections.abc import Callable, Sequence
from collections import OrderedDict
from typing import Any

import click

from celery.app.base import Celery

class CeleryOption(click.Option): ...
class CeleryCommand(click.Command):
    app: Celery | None
    def __init__(
        self,
        name: str | None = None,
        params: Sequence[click.Parameter] | None = None,
        **kwargs: Any,
    ) -> None: ...
class CeleryDaemonCommand(CeleryCommand): ...
class DaemonOption(click.Option): ...

class CLIContext:
    app: Celery
    def __init__(self, app: Celery | None = None, **kwargs: Any) -> None: ...

class CommaSeparatedList(click.ParamType): ...
class LogLevel(click.ParamType): ...
class ISO8601DateTime(click.ParamType): ...
class ISO8601DateTimeOrFloat(click.ParamType): ...
class JsonArray(click.ParamType): ...
class JsonObject(click.ParamType): ...

COMMA_SEPARATED_LIST: CommaSeparatedList
LOG_LEVEL: LogLevel
ISO8601: ISO8601DateTime
ISO8601_OR_FLOAT: ISO8601DateTimeOrFloat
JSON_ARRAY: JsonArray
JSON_OBJECT: JsonObject

def handle_preload_options(f: Callable[..., Any]) -> Callable[..., Any]: ...
def maybe_iso8601(value: str | None) -> str | None: ...
def get_current_app() -> Celery: ...
def mlevel(value: str | int) -> int: ...
def pformat(value: Any) -> str: ...

user_preload_options: list[click.Option]
